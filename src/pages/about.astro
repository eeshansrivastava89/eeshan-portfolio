---
import PageLayout from '../layouts/BaseLayout.astro'
import Section from '../components/Section.astro'
import WorkTimeline from '../components/WorkTimeline.astro'
import ImpactShelf from '../components/ImpactShelf.astro'
import Breadcrumbs from '@shared/components/Breadcrumbs.astro'

import fs from 'fs'
import yaml from 'js-yaml'
import path from 'path'

// Load timeline data
const timelineYaml = fs.readFileSync(path.join(process.cwd(), 'src/data/timeline.yaml'), 'utf8')
const timelineData = yaml.load(timelineYaml) as { timeline: any[] }

// Split into work and education
const workItems = timelineData.timeline.filter(item => item.type !== 'education')
const educationItems = timelineData.timeline.filter(item => item.type === 'education')

// Load impact data
const impactYaml = fs.readFileSync(path.join(process.cwd(), 'src/data/impact.yaml'), 'utf8')
const impactData = yaml.load(impactYaml) as { impact: any[] }
---

<PageLayout meta={{ title: 'About' }}>
	<div class='flex w-full flex-col gap-y-10'>
		<Breadcrumbs currentLabel="About" />
		<Section title='About'>
			<p class='text-lg text-muted-foreground'>
				I'm Eeshan. I lead a data science team at Starbucks focused on AI/ML, personalization, and experimentation, including recommendation models powering the Starbucks app for 40M+ users.
			</p>
			<p class='text-lg text-muted-foreground'>
				12+ years across engineering, marketing analytics, modeling, and team leadership. CS undergrad, MBA. Not ex-FAANG. Not Ivy League. Just someone who likes making things work, learning by doing, and working with smart people.
			</p>
			<p class='text-lg text-muted-foreground'>
				I build data science apps on the side using AI. Each one teaches me something—about systems, about design & architecture, about data, about what real users actually do. I have the classic "learning by doing" archetype that gives me the most joy while still putting in the work. By building and sharing, I'm hoping to learn as well as teach. If you're interested in geeking out with me, then shoot me a message on LinkedIn.
			</p>
			<p class='text-lg text-muted-foreground'>
				In my free time, I enjoy <span class='italic bg-amber-200/60 dark:bg-amber-400/25 px-1'>running</span>, <span class='italic bg-amber-200/60 dark:bg-amber-400/25 px-1'>painting</span>, <span class='italic bg-amber-200/60 dark:bg-amber-400/25 px-1'>reading</span>, and <span class='italic bg-amber-200/60 dark:bg-amber-400/25 px-1'>basketball</span>.
			</p>
		</Section>

		<Section title='This Site'>
			<p class='text-lg text-muted-foreground'>
				AI & LLMs specifically are changing how we code and give instructions to machines. It's a higher level of abstraction. Everyone's shipping AI demos. I'd rather build something real and see what the data says. Each project here goes end-to-end: product design, engineering, analytics, real users, and published analysis.
			</p>
			<p class='text-lg text-muted-foreground'>
				I built this site as a learning lab to practice <span class='italic bg-amber-200/60 dark:bg-amber-400/25 px-1'>the full loop</span> with the help of the latest frontier AI tools, while building towards local AI for the future. The current stack: Astro (static-first with React islands), PostHog (analytics + feature flags), Supabase (Postgres + real-time API), and Python notebooks for statistical analysis—all wired together with automated pipelines to make it easier to build more apps on top.
			</p>
			<p class='text-lg text-muted-foreground'>
				Everything is <a href='https://github.com/eeshansrivastava89/datascienceapps' target='_blank' rel='noopener noreferrer' class='underline hover:text-foreground'>open source</a> and non-commercial. If you learn by building too, feel free to <a href='https://theasymptotic.substack.com' target='_blank' rel='noopener noreferrer' class='underline hover:text-foreground'>follow along</a> or <a href='https://github.com/eeshansrivastava89/datascienceapps/blob/main/docs/CONTRIBUTING.md' target='_blank' rel='noopener noreferrer' class='underline hover:text-foreground'>contribute</a>.
			</p>
		</Section>

		<Section title='Experience'>
			<WorkTimeline items={workItems} />
		</Section>

		<Section title='Education'>
			<WorkTimeline items={educationItems} />
		</Section>

		<Section title='Recognition & Leadership'>
			<ImpactShelf items={impactData.impact} />
		</Section>
	</div>
</PageLayout>
